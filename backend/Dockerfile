# Используем компактный Node.js образ
FROM node:20-alpine

# Устанавливаем рабочую директорию в контейнере
WORKDIR /usr/src/app

# Копируем файлы зависимостей и устанавливаем их (используем только production зависимости)
COPY package*.json ./
RUN npm install --production

# Копируем остальные файлы бекенда
COPY . .

# Открываем порт – здесь предполагается, что сервер запускается на 5000
EXPOSE 5000

# Команда для старта сервера (файл server.js должен находиться в backend)
CMD ["node", "server.js"] 